const LINK_ACTIVE_CLASS="catalog__nav-item-name--active",TAB_ACTIVE_CLASS="catalog__description-item--active",mainMenu=document.querySelector(".main-nav"),mainMenuItem=mainMenu.querySelectorAll(".main-nav__item"),mainMenuButton=document.querySelector(".page-header__nav-toggle"),catalogMenuItem=document.querySelectorAll(".catalog__nav-item-name"),catalogLink=document.querySelectorAll(".catalog__item-link"),catalogBuyButton=document.querySelectorAll(".catalog__description-button"),countryTab=document.querySelectorAll(".catalog__description-item"),modalOrder=document.querySelector(".modal-order"),modalOrderCloseButton=modalOrder.querySelector(".modal-order__close"),modalSuccesSubmit=document.querySelector(".modal-success-submit"),modalSuccesSubmitButton=modalSuccesSubmit.querySelector(".modal-success-submit__close"),priceCardBuyButton=document.querySelectorAll(".price__button"),form=document.querySelectorAll(".form"),isEscEvent=e=>"Escape"===e.key||"Esc"===e.key;mainMenu.classList.remove("main-nav--nojs"),mainMenuButton.classList.remove("page-header__nav-toggle--nojs");const closeMenu=()=>{mainMenu.classList.remove("main-nav--js"),mainMenuButton.classList.remove("page-header__nav-toggle--close")},onMenuEscKeyDown=e=>{isEscEvent(e)&&(closeMenu(),document.removeEventListener("keydown",onMenuEscKeyDown))};mainMenuButton.addEventListener("click",(()=>{mainMenu.classList.toggle("main-nav--js"),mainMenuButton.classList.toggle("page-header__nav-toggle--close"),mainMenu.classList.contains("main-nav--js")?document.addEventListener("keydown",onMenuEscKeyDown):document.removeEventListener("keydown",onMenuEscKeyDown)})),mainMenuItem.forEach((e=>{e.addEventListener("click",closeMenu)}));const activeClassRemove=(e,o)=>{e.forEach((e=>{e.classList.contains(o)&&e.classList.remove(o)}))},catalogMenuSwitch=e=>{activeClassRemove(catalogMenuItem,LINK_ACTIVE_CLASS),activeClassRemove(countryTab,TAB_ACTIVE_CLASS),catalogMenuItem[e].classList.add(LINK_ACTIVE_CLASS),countryTab[e].classList.add(TAB_ACTIVE_CLASS)};catalogMenuItem.forEach(((e,o)=>{e.addEventListener("click",(()=>{catalogMenuSwitch(o)}))})),catalogLink.forEach(((e,o)=>{e.addEventListener("click",(()=>{catalogMenuSwitch(o)}))}));const openModalOrder=()=>{modalOrder.classList.add("modal-order--show")},closeModalOrder=()=>{modalOrder.classList.remove("modal-order--show")},onModalOrderEscKeyDown=e=>{isEscEvent(e)&&(closeModalOrder(),document.removeEventListener("keydown",onModalOrderEscKeyDown))},onModalSuccessEscKeyDown=e=>{isEscEvent(e)&&(modalSuccesSubmit.classList.remove("modal-success-submit--show"),document.removeEventListener("keydown",onModalOrderEscKeyDown))},onModalOrderCloseButtonClick=()=>{closeModalOrder(),document.removeEventListener("keydown",onModalOrderEscKeyDown)},onSpaceAroundModalOrderClick=e=>{e.target.closest(".modal-order__window")||(closeModalOrder(),document.removeEventListener("keydown",onModalOrderEscKeyDown))},onSpaceAroundModalSuccessClick=e=>{e.target.closest(".modal-success-submit__window")||(modalSuccesSubmit.classList.remove("modal-success-submit--show"),document.removeEventListener("keydown",onModalSuccessEscKeyDown))},onBuyButtonsClick=e=>{e.preventDefault(),modalOrder.classList.add("modal-order--show"),document.addEventListener("keydown",onModalOrderEscKeyDown),modalOrderCloseButton.addEventListener("click",onModalOrderCloseButtonClick),modalOrder.addEventListener("click",onSpaceAroundModalOrderClick)};catalogBuyButton.forEach((e=>{e.addEventListener("click",(e=>{onBuyButtonsClick(e)}))})),priceCardBuyButton.forEach((e=>{e.addEventListener("click",(e=>{onBuyButtonsClick(e)}))})),form.forEach((e=>{e.addEventListener("submit",(e=>{e.preventDefault(),modalOrder.classList.contains("modal-order--show")&&closeModalOrder(),modalSuccesSubmit.classList.add("modal-success-submit--show"),document.addEventListener("keydown",onModalSuccessEscKeyDown),modalSuccesSubmitButton.addEventListener("click",(()=>{modalSuccesSubmit.classList.remove("modal-success-submit--show")})),modalSuccesSubmit.addEventListener("click",onSpaceAroundModalSuccessClick)}))}));